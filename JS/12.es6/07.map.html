<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>
        /*
        map
        배열의 값들을 map() 메소드를 사용해서 새로운 배열로 생성
        중요한 것은 원본 배열을 변경하지 않는다. (체크포인트를 생성해서 변화를 주는 방식)
        map()은 각 요소에 대해서 한번만 실행하며, 빈 요소는 무시한다.
        */

        let num = [1,2,3,4,5]; // 기존의 배열
        let calcNum = num.map(Math.sqrt) // sqrt: 제곱근(루트)를 구하는 함수

        console.log(calcNum)
        console.log(num)
        // 기존의 값을 객체화 해서 기존의 배열은 건들지 않고, 새로운 배열에 값을 반환


        //잘못된 사용법 01
        //원본 배열을 직접 변경하는 것을 지양한다.
        let num02 = [1,2,3,4,5];

        num02.map((el,idx) => {
            // 매개변수는 요소와 인덱스 순이며, element(=item), index 순임
            // 보통 줄임말로 많이 쓰이며, element는 el이나 item / index는 idx나 i라고 한다.
            // el 는 event의 e와 혼동되기에 e가 아닌 el로 사용한다.
            
            /*
            console.log(el)
            console.log(index)
            */

            num02[idx] = el * 2;
        })
        console.log(num02) // 원본의 배열을 바꾸는 것은 목적에 맞지 않으므로 지양

        // 잘못된 사용법 02
        // 반환값을 무시하는 경우
        /*
        map() 메소드는 배열의 각 요소에 대해서 주어진 함수를 실행하고, 그 결과들을 모아서 새로운 배열로 만드는 목적의 메소드.
        여기서 반환되는 값이 새로운 배열의 값이 되기 때문에, 반환값이 없거나, 실제로 활용하지 않는다면 의도치 않은 결과값이 나올수도 있다.
        */

        let num03 = [1,2,3,4,5]
        let num04 = num03.map(el => {
            console.log(el * 3)
            //값을 반환하지 않고 바로 출력했기 때문에 num04는 undefined가 된다.
            //이런 경우는 forEach문을 사용하는 것이 더 좋다.
        })
        console.log(num04) // [undefined, undefined, undefined, undefined, undefined]


        // 잘못된 사용법 03 return문을 사용해도 undefined가 나오는 경우

        let num05 = [1,2,3,4,5]
        let double = num05.map(el => {
            if(el % 2 === 0){
                return el * 2; // 결과값이 아닌 계산값이므로 결과라고 볼 수 없다. (아래 주석처리를 해제해야 정상 출력)
            }
            // return el 
        })
        console.log(double)


    </script>

</head>

<body>

</body>

</html>